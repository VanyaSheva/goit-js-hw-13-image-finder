{"version":3,"sources":["webpack:///./js/fetchImages.js","webpack:///./js/createMarkup.js","webpack:///./index.js"],"names":["fetchImages","query","counter","fetch","then","response","json","createMarkup","hit","largeImageURL","webformatURL","likes","views","comments","downloads","form","document","querySelector","input","gallery","loadMore","addEventListener","e","preventDefault","value","PNotify","error","text","innerHTML","data","hits","length","classList","add","console","log","insertAdjacentHTML","map","join","success","remove","item","target","currentTarget","closest","basicLightbox","dataset","big","show"],"mappings":"yMAAe,SAASA,EAAaC,EAAOC,GACxC,OAAOC,MAAM,oEAAoEF,EAArE,uCAAgHC,GAAS,IAClIE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCFlB,SAASC,EAAaC,GACpC,kDACuCA,EAAIC,cAD3C,sBAEeD,EAAIE,aAFnB,qIAMSF,EAAIG,MANb,2GAUSH,EAAII,MAVb,wGAcSJ,EAAIK,SAdb,+GAkBSL,EAAIM,UAlBb,sC,ICaGb,E,wBAJEc,G,UAAOC,SAASC,cAAc,iBAC9BC,EAAQF,SAASC,cAAc,iBAC/BE,EAAUH,SAASC,cAAc,YACjCG,EAAWJ,SAASC,cAAc,cAEpCf,EAAU,EAGda,EAAKM,iBAAiB,UAKtB,SAA0BC,GAEtB,GADAA,EAAEC,iBACiB,KAAhBL,EAAMM,MAIL,YAHAC,IAAQC,MAAM,CACVC,KAAM,iCAIdzB,EAAU,EACViB,EAAQS,UAAY,GAEpB5B,EADAC,EAAQiB,EAAMM,MACKtB,GAASE,MAAK,SAAAyB,GAC7B,GAAwB,IAArBA,EAAKC,KAAKC,OAKP,OAJFN,IAAQC,MAAM,CACVC,KAAM,yEAERP,EAASY,UAAUC,IAAI,QAG7BC,QAAQC,IAAIlC,GACZiC,QAAQC,IAAIN,GACZV,EAAQiB,mBAAmB,YAAaP,EAAKC,KAAKO,KAAI,SAAA7B,GAAG,OAAED,EAAaC,MAAM8B,KAAK,KACnFb,IAAQc,QAAQ,CACZZ,KAAM,qCAERP,EAASY,UAAUQ,OAAO,WAEhCtB,EAAMM,MAAQ,MA/BlBJ,EAASC,iBAAiB,SAoC1B,WACInB,IACAF,EAAYC,EAAOC,GAASE,MAAK,SAAAyB,GAC7BV,EAAQiB,mBAAmB,YAAaP,EAAKC,KAAKO,KAAI,SAAA7B,GAAG,OAAED,EAAaC,MAAM8B,KAAK,WAtC3FnB,EAAQE,iBAAiB,SA2CzB,SAA4BC,GACxB,IAAMmB,EAAOnB,EAAEoB,OACf,GAAGD,IAASnB,EAAEqB,cACV,OAEJ,GAAG3B,SAASC,cAAc,eAAe,CACrCiB,QAAQC,IAAIM,EAAKG,QAAQ,QACRC,SAAA,uBACLJ,EAAKG,QAAQ,OAAOE,QAAQC,IADvB,qCAGZC,a","file":"main.bd46b99b0d6cf9b19354.js","sourcesContent":["export default function fetchImages (query, counter){\r\n    return fetch(`https://pixabay.com/api/?key=4823621-792051e21e56534e6ae2e472f&q=${query}&image_type=photo&per_page=12&page=${counter+=1}`)\r\n      .then(response => response.json());\r\n  }","export default function createMarkup(hit){\r\n return `\r\n    <div class=\"photo-card\" data-big='${hit.largeImageURL}'>\r\n    <img src=\"${hit.webformatURL}\" alt=\"image\"/>\r\n    <ul class='stats'>\r\n      <li class=\"stats-item\">\r\n        <i class=\"material-icons\">thumb_up</i>\r\n        ${hit.likes}\r\n      </li>\r\n      <li class=\"stats-item\">\r\n        <i class=\"material-icons\">visibility</i>\r\n        ${hit.views}\r\n      </li>\r\n      <li class=\"stats-item\">\r\n        <i class=\"material-icons\">comment</i>\r\n        ${hit.comments}\r\n      </li>\r\n      <li class=\"stats-item\">\r\n        <i class=\"material-icons\">cloud_download</i>\r\n        ${hit.downloads}\r\n      </li>\r\n    </ul>\r\n  </div> `\r\n}","import './styles.css';\nimport '../node_modules/pnotify/dist/PNotifyBrightTheme.css'\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css'\nimport fetchImages from './js/fetchImages';\nimport createMarkup from './js/createMarkup';\nimport * as basicLightbox from 'basiclightbox'\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify'\nimport PNotifyButtons from '../node_modules/pnotify/dist/es/PNotifyButtons';\n\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('.search-input');\nconst gallery = document.querySelector('.gallery');\nconst loadMore = document.querySelector('.load-more');\nlet query;\nlet counter = 0;\n\n\nform.addEventListener('submit', handleFormSubmit);\nloadMore.addEventListener('click', handleMoreClick);\ngallery.addEventListener('click', handleGalleryClick);\n\n\nfunction handleFormSubmit(e){\n    e.preventDefault();\n    if(input.value === ''){\n        PNotify.error({\n            text: \"Please specify your request!\"\n          });\n        return;\n    }\n    counter = +1;\n    gallery.innerHTML = '';\n    query = input.value;\n    fetchImages(query, counter).then(data =>{\n        if(data.hits.length === 0){\n            PNotify.error({\n                text: \"There is no matches with your request! Please try another word.\"\n              });\n              loadMore.classList.add('none');\n              return;\n        }\n        console.log(query);\n        console.log(data);\n        gallery.insertAdjacentHTML('beforeend', data.hits.map(hit=>createMarkup(hit)).join(''));\n        PNotify.success({\n            text: \"You have found some cool images!\"\n          });\n          loadMore.classList.remove('none');\n    });\n    input.value = '';\n}\n\n\n\nfunction handleMoreClick(){\n    counter++;\n    fetchImages(query, counter).then(data => {\n        gallery.insertAdjacentHTML('beforeend', data.hits.map(hit=>createMarkup(hit)).join(''));\n    });\n}\n\n\nfunction handleGalleryClick(e){\n    const item = e.target;\n    if(item === e.currentTarget){\n        return;\n    }\n    if(document.querySelector('.photo-card')){\n        console.log(item.closest('div'));\n        const instance = basicLightbox.create(`\n        <img src=\"${item.closest('div').dataset.big}\" width=\"800\" height=\"600\">\n    `)\n    instance.show();\n    }\n}"],"sourceRoot":""}